EC2

***
aws ec2 run-instances --generate-cli-skeleton > /tmp/run-instances_base.json








***
aws ec2 describe-regions

ap-northeast-1
ap-northeast-2
ap-south-1
ap-southeast-1
ap-southeast-2
ca-central-1
eu-central-1
eu-west-1
eu-west-2
sa-east-1
us-east-1
us-east-2
us-west-1
us-west-2








aws ec2 describe-images


aws ec2 run-instances
--image-id [ImageId]
--count [InstanceCount]
--instance-type [InstanceType]
--key-name [KeyPairName]
--security-group-ids [SecurityGroupIds]

[ImageId] : This is the ID of the image
[InstanceCount] : This gives number of instances to be created
[InstanceType] : This gives the type of EC2 instance
[KeyPairName] : This parameter provides the key/pair name for authentication
[SecurityGroupIds] : This one provides security group IDs


aws ec2 run-instances
--image-id ami-7e2c612c
--count 1
--instance-type t1.micro
--key-name WebServerKeyPair
--security-group-ids sg-ad70b8c9

Launching the EC2 instance in VPC
Run the following command to launch instances in EC2-VPC. 
We need to specify the subnet ID while creating an instance in EC2-VPC. 
Before creating the instance in EC2-VPC, you have to create the VPC and subnets inside it.

aws ec2 run-instances
--image-id [ImageId]
--count [InstanceCount]
--instance-type [InstanceType]
--key-name [KeyPairName]
--security-group-ids [SecurityGroupIds]
--subnet-id [SubnetId]

aws ec2 run-instances
--image-id ami-7e2c612c
--count 1
--instance-type t1.micro
--key-name WebServerKeyPair
--security-group-ids sg-ad70b8c8
--subnet-id subnet-aed11acb

Allocating Elastic IP addresses
Elastic IP (EIP) address is the static public IP address. You can attach and detach the EIP from EC2 instance at any time. 
Instances in EC2-Classic support only one private IP address and corresponding EIP. Instances in EC2-VPC support multiple private IP addresses, 
and each one can have a corresponding EIP. If you stop the instance in EC2-Classic the EIP is disassociated from instance, 
and you have to associate it again when you start the instance.
But if you stop the instance in EC2-VPC, the EIP remains associated with the EC2 instance.
In this recipe, we list the commands for allocating an Elastic IP address in a VPC and
associating it with the network interface



